<p>{{movieForm.value | json}} {{movieForm.status | json}}</p>


<form [formGroup]="movieForm" novalidate>
  <div class="form-group form-row">
    <label for="name" class="col-md-2">Name of movie</label>
    <input type="text" class="form-control col-md-10" id="name" name="name" formControlName="name" placeholder="required field">
    <div class="col-sm-4" *ngIf="movieForm.controls.name.touched">
       <span *ngIf="movieForm.controls.name.errors?.required" class="text-danger">This field is required.</span>       
    </div>
  </div>
  <div class="form-group form-row">
    <label for="description" class="col-md-2">Description</label>
    <textarea name="description" class="col-md-10" id="description" formControlName="description" placeholder="required field"></textarea>
    <div class="col-sm-4" *ngIf="movieForm.controls.description.touched">
       <span *ngIf="movieForm.controls.description.errors?.required" class="text-danger">This field is required.</span>
       <span *ngIf="movieForm.controls.description.errors?.minlength" class="text-danger">This field requires at least 30 characters.</span>
       <span *ngIf="movieForm.controls.description.errors?.maxlength" class="text-danger">This field can't have more than 250 characters.</span>
    </div>
  </div>
  <div class="form-group form-row">
    <label for="year" class="col-md-2">Year</label>
    <input type="number" class="form-control col-md-10" id="year" name="year" formControlName="year" placeholder="required field">
    <div class="col-sm-4" *ngIf="movieForm.controls.year.touched">
       <span *ngIf="movieForm.controls.year.errors?.required" class="text-danger">This field is required.</span>
       <span *ngIf="movieForm.controls.year.errors?.min || movieForm.controls.year.errors?.max" class="text-danger">This is not a valid year.</span>
    </div>
  </div>
  <div class="form-group form-row">
    <label for="rating" class="col-md-2">Rating</label>
    <input type="number" class="form-control col-md-10" id="rating" name="rating" formControlName="rating" placeholder="required field">
    <div class="col-sm-4" *ngIf="movieForm.controls.rating.touched">
      <span *ngIf="movieForm.controls.rating.errors?.required" class="text-danger">This field is required.</span>
  </div>
  </div>
  <div class="form-group form-row">
    <label for="duration" class="col-md-2">Duration</label>
    <input type="number" class="form-control col-md-10" id="duration" name="duration" formControlName="duration" placeholder="required field">
    <div class="col-sm-4" *ngIf="movieForm.controls.duration.touched">
      <span *ngIf="movieForm.controls.duration.errors?.required" class="text-danger">This field is required.</span>
  </div>
</div>
  <div class="form-group form-row">
    <label for="director" class="col-md-2">Director</label>
    <input type="text" class="form-control col-md-10" id="director" name="director" formControlName="director" placeholder="required field">
    <div class="col-sm-4" *ngIf="movieForm.controls.director.touched">
      <span *ngIf="movieForm.controls.director.errors?.required" class="text-danger">This field is required.</span>
  </div>
  </div>
   <div class="form-group form-row">
    <label class="col-md-2">Genre</label>
    <select name="genres" class="col-md-4">
      <option *ngFor="let genre of genres" value="{{genre.name}}">{{genre.name}}</option>
    </select>
    <div class="col-md-2 text-right">
      <button class="btn btn-primary" (click)="toggleForm()">Add genre</button>
    </div>  
  </div>
  <button type="submit" class="btn btn-primary" (click)="saveMovie()" [disabled]="!movieForm.valid">Save</button>  
</form>
<br>
<form *ngIf="secondForm">
  <div class="form-group form-row">
    <label for="director" class="col-md-2">Enter new genre:</label>
    <input type="text" name="genre" class="col-md-4" [(ngModel)]="genre">
    <div class="col-md-2 text-right">
      <button type="button" class="btn btn-primary" (click)="saveGenre()">Add new genre</button>
    </div>    
  </div> 
</form>   
 
